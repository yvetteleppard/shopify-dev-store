{% form 'product', product, data-product-form: '', data-product-handle: product.handle, data-enable-history-state: 'true', novalidate: 'novalidate' %}

  {% unless product.has_only_default_variant %}
    <div class="product-options">
      {% for option in product.options_with_values %}
        <label for="Option{{ option.position }}">
          {{ option.name }}
        </label>

        <select
          id="Option{{ option.position }}"
          name="options[{{ option.name | escape }}]">
          {% for value in option.values %}
            <option
              value="{{ value | escape }}"
              {% if option.selected_value == value %}selected="selected"{% endif %}>
                {{ value }}
            </option>
          {% endfor %}
        </select>
      {% endfor %}
    </div>
  {% endunless %}

  <select class="{% if product.has_only_default_variant or product.variants.size == 1 %}hide{% endif %}" name="id">
    {% for variant in product.variants %}
      <option
        {% if variant == current_variant %}selected="selected"{% endif %}
        {% unless variant.available %}disabled="disabled"{% endunless %}
        value="{{ variant.id }}">
          {{ variant.title }} {%- if variant.available == false %} - {{ 'products.product.sold_out' | t }}{% endif %}
      </option>
    {% endfor %}
  </select>

  <!-- <div class="product-form__controls-group">
    <div class="product-form__item">
      <label for="Quantity-{{ section.id }}">{{ 'products.product.quantity' | t }}</label>
      <input type="number" id="Quantity-{{ section.id }}"
        name="quantity" value="1" min="1" pattern="[0-9]*"
        class="product-form__input product-form__input--quantity" data-quantity-input
      >
    </div>
  </div> -->

  <div class="product-form__quantity product-quantity">
    <div class="quantity-incrementor">
      <label for="Quantity" class="quantity-incrementor__label">{{ 'products.product.quantity' | t }}:</label>
      <button class="quantity-incrementor__minus" type="button"><span class="screenreader-text">{{ 'incrementor.minus' | t }}</span></button>
      <input class="quantity-incrementor__input" type="number" id="Quantity" name="quantity" value="1" min="1">
      <button class="quantity-incrementor__plus" type="button"><span class="screenreader-text">{{ 'incrementor.plus' | t }}</span></button>
    </div>
  </div>

  {% render 'product-price', variant: current_variant, show_vendor: section.settings.show_vendor %}

 <div data-price-wrapper class="product-form__price product-price">
    <meta itemprop="priceCurrency" content="{{ shop.currency }}">
    <meta itemprop="price" content="{{ current_variant.price | divided_by: 100.00 }}">
    <span data-product-price>
      {{ current_variant.price | money }}
    </span>

    {% if product.compare_at_price_max > product.price %}
      <span class="screenreader-text" data-compare-text>{{ 'products.product.regular_price' | t }}</span>
      <s data-compare-price>
        {% if current_variant.compare_at_price > current_variant.price %}
          {{ current_variant.compare_at_price | money }}
        {% endif %}
      </s>
    {% endif %}
  </div>

  <button
    type="submit"
    name="add"
    class="button"
    data-submit-button
    {% unless current_variant.available %}disabled="disabled" aria-disabled="true"{% endunless %}>
      <span data-submit-button-text>
        {% if current_variant.available %}
          {{ 'products.product.add_to_cart' | t }}
        {% else %}
          {{ 'products.product.sold_out' | t }}
        {% endif %}
      </span>
  </button>
{% endform %}